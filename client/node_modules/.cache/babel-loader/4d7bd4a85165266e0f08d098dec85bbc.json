{"ast":null,"code":"var _jsxFileName = \"/home/ashiqa/Desktop/SEproject/docoverflow/client/src/Voting.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useContext } from \"react\";\nimport RootCommentContext from \"./RootCommentContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Voting(props) {\n  _s();\n\n  const rootCommentInfo = useContext(RootCommentContext);\n  const {\n    commentsTotals,\n    userVotes\n  } = rootCommentInfo;\n  const {\n    commentId\n  } = props; //if you are looking at a comment and it has some upvotes, assign the upvotes of that comment to total\n\n  const total = commentsTotals && commentId in commentsTotals ? commentsTotals[commentId] : 0; //\n\n  const userVote = userVotes && commentId in userVotes ? userVotes[commentId] : 0; // updation of new vote values in the database\n\n  function sendVote(direction = 'up') {\n    const directionNumber = direction === 'up' ? 1 : -1;\n\n    if (directionNumber === userVote) {\n      direction = 'unvote';\n    }\n\n    const url = 'http://localhost:4000/vote/' + props.commentId + '/' + direction;\n    axios.get(url, {\n      withCredentials: true\n    }).then(() => {\n      rootCommentInfo.refreshVotes();\n    });\n  }\n\n  function handleVoteUp() {\n    sendVote('up');\n  }\n\n  function handleVoteDown() {\n    sendVote('down');\n  }\n\n  function arrowButton(directionName = 'up') {\n    const directionNumber = directionName === 'up' ? 1 : -1;\n    let classNames = 'inline-block h-5 relative top-1 ';\n\n    if (directionNumber === userVote) {\n      classNames += ' text-reddit_red';\n    } else {\n      classNames += ' text-reddit_text-darker hover:text-white';\n    }\n\n    if (directionName === 'up') {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleVoteUp(),\n        className: classNames,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleVoteDown(),\n        className: classNames,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'inline-block mr-2',\n    children: [arrowButton('up'), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'inline-block',\n      children: total\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), arrowButton('down')]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Voting, \"AExTUkOxZcor29gj1+J1Gq62MKE=\");\n\n_c = Voting;\nexport default Voting;\n\nvar _c;\n\n$RefreshReg$(_c, \"Voting\");","map":{"version":3,"sources":["/home/ashiqa/Desktop/SEproject/docoverflow/client/src/Voting.js"],"names":["axios","useContext","RootCommentContext","Voting","props","rootCommentInfo","commentsTotals","userVotes","commentId","total","userVote","sendVote","direction","directionNumber","url","get","withCredentials","then","refreshVotes","handleVoteUp","handleVoteDown","arrowButton","directionName","classNames"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {useContext} from \"react\";\nimport RootCommentContext from \"./RootCommentContext\";\n\nfunction Voting(props) {\n\n  const rootCommentInfo = useContext(RootCommentContext);\n  const {commentsTotals, userVotes} = rootCommentInfo;\n  const {commentId} = props;\n\n  //if you are looking at a comment and it has some upvotes, assign the upvotes of that comment to total\n  const total = commentsTotals && commentId in commentsTotals\n    ? commentsTotals[commentId]\n    : 0;\n\n  //\n  const userVote = userVotes && commentId in userVotes\n    ? userVotes[commentId]\n    : 0;\n\n\n  // updation of new vote values in the database\n  function sendVote(direction = 'up') {\n    const directionNumber = direction === 'up' ? 1 : -1;\n    if (directionNumber === userVote) {\n      direction = 'unvote';\n    }\n    const url = 'http://localhost:4000/vote/'+props.commentId+'/'+direction;\n    axios.get(url, {withCredentials:true})\n      .then(() => {\n        rootCommentInfo.refreshVotes();\n      })\n  }\n\n\n  function handleVoteUp() {\n    sendVote('up');\n  }\n\n  function handleVoteDown() {\n    sendVote('down');\n  }\n\n  \n  function arrowButton(directionName = 'up') {\n    const directionNumber = directionName === 'up' ? 1 : -1;\n    let classNames = 'inline-block h-5 relative top-1 ';\n\n    if (directionNumber === userVote) {\n      classNames += ' text-reddit_red';\n    } else {\n      classNames += ' text-reddit_text-darker hover:text-white';\n    }\n\n    if (directionName === 'up') {\n      return (\n        <button onClick={() => handleVoteUp()} className={classNames}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path fillRule=\"evenodd\" d=\"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\n        </svg>\n        </button>\n      );\n    } else {\n      return (\n        <button onClick={() => handleVoteDown()} className={classNames}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n          </svg>\n        </button>\n      );\n    }\n  }\n\n  return (\n    <div className={'inline-block mr-2'}>\n      {arrowButton('up')}\n      <div className={'inline-block'}>{total}</div>\n      {arrowButton('down')}\n    </div>\n  );\n}\n\nexport default Voting;"]},"metadata":{},"sourceType":"module"}